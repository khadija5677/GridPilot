<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard - DTC Route Rationalization</title>
  <link rel="stylesheet" href="dashboard/css/styles.css">
</head>
<body>
  <div class="container">
    <header>
      <a href="index.html" style="color: #007bff; text-decoration: none; font-size: 14px;">‚Üê Back to Home</a>
      <h1>Admin Dashboard</h1>
      <p>Welcome, Admin! (<span id="time"></span>)</p>
    </header>

    <!-- Route Selection Section -->
    <div class="route-selection-section">
      <h3>Select Route to Highlight</h3>
      <select id="route-select-highlight" onchange="highlightRoute(this.value)">
        <option value="">Select a route to highlight</option>
        <option value="101">Route 101 (Connaught Place - Red Fort)</option>
        <option value="202">Route 202 (Dwarka - CBD)</option>
        <option value="303">Route 303 (Rohini - Noida)</option>
        <option value="404">Route 404 (South Delhi Circuit)</option>
      </select>
      <button onclick="showAllRoutes()">Show All Routes</button>
    </div>

    <!-- Map Container -->
    <div id="map" style="height: 400px; margin-bottom: 20px;">
      <div class="map-placeholder">
        <p>Enter your Google Maps API key above to enable real-time map visualization</p>
        <p>Showing simulated bus positions below:</p>
      </div>
    </div>

    <div class="dashboard">
      <div class="card">
        <h2>Route Adjustment Controls</h2>
        <div class="route-adjustment">
          <select id="route-select">
            <option value="101">Route 101 (Connaught Place - Red Fort)</option>
            <option value="202">Route 202 (Dwarka - CBD)</option>
            <option value="303">Route 303 (Rohini - Noida)</option>
            <option value="404">Route 404 (South Delhi Circuit)</option>
          </select>
          <input type="number" id="frequency-input" placeholder="Frequency (min)" min="5" max="30" value="15">
          <button onclick="adjustFrequency()">Adjust Frequency</button>
        </div>
        <div style="margin-top: 15px;">
          <button onclick="optimizeRoutes()">Run AI Optimization</button>
          <button onclick="preventBunching()">Prevent Bunching</button>
        </div>
      </div>

      <div class="card">
        <h2>Real-time Bus Monitoring</h2>
        <div id="bus-monitoring">
          <!-- Bus monitoring data will be populated here -->
        </div>
      </div>

      <div class="card ai-insights">
        <h2>AI-Powered Insights</h2>
        <div class="prediction" id="prediction-1">Predicted traffic congestion at Rajeev Chowk in 15 mins</div>
        <div class="prediction" id="prediction-2">Route 202 efficiency can improve by 12% with adjustment</div>
        <div class="prediction" id="prediction-3">Suggest adding 1 bus to Route 303 during peak hours</div>
      </div>

      <div class="card futuristic-features">
        <h2>üöÄ Future Tech Features</h2>
        <div class="feature-grid">
          <div class="futuristic-item">
            <h4>üß† Neural Network Optimization</h4>
            <p>Quantum-enhanced route optimization using neural networks</p>
            <button onclick="activateNeuralOptimization()">Activate</button>
          </div>
          <div class="futuristic-item">
            <h4>üå± Carbon Footprint Tracker</h4>
            <p>Real-time CO2 emissions monitoring per route</p>
            <div class="carbon-meter">Current: 2.3 tons CO2</div>
          </div>
          <div class="futuristic-item">
            <h4>üîó Blockchain Ticketing</h4>
            <p>Secure, decentralized passenger ticketing system</p>
            <button onclick="viewBlockchainStats()">View Stats</button>
          </div>
          <div class="futuristic-item">
            <h4>ü§ñ Autonomous Coordination</h4>
            <p>AI-driven autonomous bus fleet coordination</p>
            <button onclick="enableAutonomousMode()">Enable Mode</button>
          </div>
        </div>
      </div>

      <div class="card iot-monitoring">
        <h2>üì° IoT Sensor Network</h2>
        <div class="sensor-grid">
          <div class="sensor-item">
            <span class="sensor-icon">üöê</span>
            <div class="sensor-data">
              <strong>Bus Health:</strong> 98% Optimal
              <br><small>Engine temp: 85¬∞C | Fuel: 75%</small>
            </div>
          </div>
          <div class="sensor-item">
            <span class="sensor-icon">üë•</span>
            <div class="sensor-data">
              <strong>Passenger Count:</strong> 42/50
              <br><small>Real-time occupancy tracking</small>
            </div>
          </div>
          <div class="sensor-item">
            <span class="sensor-icon">üå°Ô∏è</span>
            <div class="sensor-data">
              <strong>Air Quality:</strong> Good
              <br><small>PM2.5: 15 Œºg/m¬≥ | CO2: 450 ppm</small>
            </div>
          </div>
        </div>
      </div>

      <div class="card" style="grid-column: 1 / -1;">
        <h2>Generate Reports</h2>
        <button onclick="generateReport()">Generate Route Performance Report</button>
      </div>
    </div>

    <div class="controls">
      <button onclick="refreshData()">Refresh Data</button>
    </div>

    <div class="logout-container">
      <button onclick="logout()">Logout</button>
    </div>
  </div>

  <script src="dashboard/js/dashboard.js"></script>
  <script src="dashboard/js/map.js"></script>
</body>
</html>
